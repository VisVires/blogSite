<h2 class="blog-post-title">What I Learned Today...</h2>
  <p class="blog-post-meta">November 17, 2017</p>
<p></p>
  <hr>
  <p></p>
  <blockquote>
    <p> <strong></strong></p>
  </blockquote>

<h2 class="blog-post-title">What happens when you input ls -l foo* in your bash shell?</h2>
  <p class="blog-post-meta">November 17, 2017</p>
  <p>This was an interview question I saw recently for a System Administrator role, and while there are many resources to answer this question, I didn't feel any was complete enough. My hope is to provide an overview of the entire process.</p>
  <hr>
  <p></p>
  <blockquote>
    <p><strong></strong></p>
  </blockquote>
    <p>1. User writes command into stdin of shell which is waiting with getline() function</p>
    <p>1 - 2?. Shell checks if command is an alias? shell checks if command exists in path?</p>
    <p>2. Shell calls fork() system call</p>
    <p>2.1 system call executes in kernel mode and each has a number associated with it</p>
    <p>2.2 when user program makes system call a library routine is called</p>
    <p>2.3 library routine issues a trap to linux OS by executing 0x80 assembly instruction it also send system call number to kernel using EAX register</p>
    <p>2.4 Arguments are sent to other registers</p>
    <p>2.5 kernel executes the system call and returns the result to the user program using a register</p>
    <p>3. fork() creates two identical copies of the address space one for the parent and one for the child..</p>
    <p>4. fork() allocates the task structure and fills it from parent</p>
    <p>5. Child's stack and user area is allocated and filled from parent</p>
    <p>6. Childs PID is allocated</p>
    <p>7. Child is set up to share parents text and copies page tables and stack</p>
    <p>8. Parent shares open files with parent and copies registers to child</p>
    <p>9. New shell is created</p>
    <p>10. shell checks if ls is an alias if so it replaces it with the value</p>
    <p>11. stat() is called then vfs_stat() which both wrap the following</p>
    <p>12. search_for_command() c function is called which calls find_user_command_in_path() (find_user_command_internal() fails first)</p>
    <p>12. shell looks for ls by tokenizing and parsing then searching throught the PATH enviromental variable using ':' as the delimiter using find_in_path_element()</p>
    <p>13. execve() verifies execute permissions for the commnand</p>
    <p>14. execve(command, args, NULL) uses args</p>
    <p>14. shell reads and verfies the header</p>
    <p>15. arguments are copied and evironment is copied</p>
    <p>16. new address space is allocated</p>
    <p>17. Registers are initialized</p>
    <p>18. ls process is started and replaces shell</p>
    <p>19. openat() used open the current directory or directory listed</p>
    <p>Normally opendir(3) is used though</p>
    <p>20. directory data read using getdents() system call then closes file descriptor when done reading</p>
    <p>Normally readdir(3) is used here - returns pointer to a structure represent te directory entry</p>
    <p>19. stat() with arg of item - works and finds file name and info</p>
    <p>Normally closedir(3) is used here</p>
    <p>20. lstat() with arg of items - checks if its a symbolic link</p>
    <p>21. fstat() with arg of items - is verified file</p>
    <p>22. write items to stdout from kernel</p>
<h2>Heading</h2>
  <p>Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Duis mo}llis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
  <h3>Sub-heading</h3>
    <p>Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
    <pre>
      <code>Example code block</code>
    </pre>
    <p>Aenean lacinia bibendum nulla sed consectetur. Etiam porta sem malesuada magna mollis euismod. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa.</p>
  <h3>Sub-heading</h3>
    <p>Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aenean lacinia bibendum nulla sed consectetur. Etiam porta sem malesuada magna mollis euismod. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
    <ul>
      <li>Praesent commodo cursus magna, vel scelerisque nisl consectetur et.</li>
      <li>Donec id elit non mi porta gravida at eget metus.</li>
      <li>Nulla vitae elit libero, a pharetra augue.</li>
    </ul>
    <p>Donec ullamcorper nulla non metus auctor fringilla. Nulla vitae elit libero, a pharetra augue.</p>
    <ol>
      <li>Vestibulum id ligula porta felis euismod semper.</li>
      <li>Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</li>
      <li>Maecenas sed diam eget risus varius blandit sit amet non magna.</li>
    </ol>
    <p>Cras mattis consectetur purus sit amet fermentum. Sed posuere consectetur est at lobortis.</p>
    <h1>ITS ALIVE</h1>
